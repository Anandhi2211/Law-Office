<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.solvd.law_office.dao.AttorneyRepository">

    <insert id="insert" keyColumn="attorney_id" keyProperty="attorney_id" useGeneratedKeys="true">

        insert into attorneys(attorney_id,attorney_name,country,city,attorney_law_firm_id)
        values (#{attorneyId},#{attorneyName},#{country},#{city},#{lawFirmId}))
    </insert>

    <sql id="attorneySelect">
        select a.attorney_id, a.attorney_name, a.country from attorneys a
    </sql>
    <select id="findById">
        <include refid="attorneySelect"/>
        where attorney_Id = #{attorneyId}
    </select>

    <select id="findByName">
        <include refid="attorneySelect"/>
        where attorney_name = #{attorneyName}
    </select>

    <update id="updateById" >
        UPDATE attorneys SET city = #{attorney.city} WHERE attorney_id = #{attorneyId};

    </update>
    <delete id="deleteById">

        delete * from attorneys where attorney_id = #{attorneyId}

    </delete>


</mapper>